================================================================================
NETLIFY DEPLOYMENT INSTRUCTIONS
================================================================================

STEP 1: BUILD AND PREPARE CLIENT
---------------------------------
1. Make sure your client builds successfully:
   cd client
   npm install
   npm run build

STEP 2: CREATE NETLIFY ACCOUNT
-------------------------------
1. Go to https://netlify.com
2. Sign up with GitHub (recommended) or email
3. Connect your GitHub account

STEP 3: DEPLOY TO NETLIFY
--------------------------
Option A: Using Netlify Dashboard (Recommended)
1. Click "Add new site" → "Import an existing project"
2. Connect to GitHub repository: https://github.com/dara-tech/gasmanagement
3. Configure build settings:
   - Base directory: client
   - Build command: npm run build
   - Publish directory: client/build
4. Click "Deploy site"

Option B: Using Netlify CLI
1. Install Netlify CLI: npm install -g netlify-cli
2. Login: netlify login
3. Deploy: cd client && netlify deploy --prod

STEP 4: SET ENVIRONMENT VARIABLES
----------------------------------
After deployment, go to Site settings → Environment variables and add:

REACT_APP_API_URL=https://your-render-service-name.onrender.com/api

Replace "your-render-service-name" with your actual Render service name.

Example:
REACT_APP_API_URL=https://gas-station-api.onrender.com/api

IMPORTANT: 
- Environment variable names must start with REACT_APP_ to be accessible in React
- After adding environment variables, you need to trigger a new deployment
- Go to Deploys → Trigger deploy → Deploy site

STEP 5: VERIFY DEPLOYMENT
-------------------------
1. Check your site URL: https://gasstation01.netlify.app
2. Open browser console (F12)
3. Check Network tab - API requests should go to your Render URL, not localhost
4. Test login functionality

STEP 6: CONFIGURE CUSTOM DOMAIN (Optional)
-------------------------------------------
1. Go to Site settings → Domain management
2. Click "Add custom domain"
3. Follow instructions to configure DNS

TROUBLESHOOTING:
----------------
- "Insecure content blocked" error:
  → Make sure REACT_APP_API_URL is set correctly in Netlify environment variables
  → Redeploy after adding environment variables
  → Check browser console for actual API URL being used

- API requests failing:
  → Verify your Render backend is running and accessible
  → Check CORS configuration in server allows Netlify domain
  → Test API endpoint directly: https://your-render-url.onrender.com/api/health

- Build fails:
  → Check build logs in Netlify dashboard
  → Ensure all dependencies are in package.json
  → Check for TypeScript errors

- Environment variables not working:
  → Must start with REACT_APP_
  → Need to trigger new deployment after adding
  → Check in build logs that variables are being read

AUTOMATIC DEPLOYMENTS:
----------------------
- Netlify automatically deploys when you push to GitHub (if connected)
- Each push to main branch triggers a new deployment
- Environment variables are preserved across deployments

================================================================================

